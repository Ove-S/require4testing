<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	<h:head>
		<link rel="icon" type="image/png" href="#{resource['images/require4testing-favicon.png']}" />
		<h:outputStylesheet library="css" name="style.css" />
	    <title>Require4Testing Anforderungen</title>
	</h:head>
	<h:body>
		<header>
			<ui:include src="navbar.xhtml"/>
		</header>
	    <main>
	    	<h:form>
	    		<p:card>
			        <p:dataTable var="requirement" value="#{requirementController.requirements}" rowKey="#{requirement.id}" selectionMode="single" scrollable="true" scrollHeight="250" scrollRows="20" liveScroll="true" >
	        		    <f:facet name="header">
			                <h:panelGroup layout="block" style="display: flex; justify-content: space-between; align-items: center;">
					            <h:outputText value="Anforderungen" styleClass="table-header"/>
					            <p:commandButton value="Anforderung hinzufÃ¼gen" icon="pi pi-plus-circle" action="#{requirementController.editNewRequirement}" rendered="#{userController.currentUser.requirementsEngineer}" />
					        </h:panelGroup>
					    </f:facet>
			        	<p:ajax event="rowSelect" listener="#{requirementController.onRowSelectRequirement}" />
			        	
			            <p:column headerText="ID">
			                <h:outputText value="#{requirement.id}" />
			            </p:column>
			            
			            <p:column headerText="Titel">
			                <h:outputText value="#{requirement.title}" />
			            </p:column>
			       		
			            <p:column headerText="Autor">
			                <h:outputText value="#{requirement.author}" />
			            </p:column>
		        	</p:dataTable>
        		</p:card>
        	</h:form>
	    </main>
	</h:body>
</html>